{"componentChunkName":"component---src-templates-blog-post-js","path":"/9835722865c9ef05272f6c4aecb8c287f78182ed","result":{"data":{"site":{"siteMetadata":{"title":"ë³´ë…¸ë³´ë…¸ì˜ í‰í™”ë¡œìš´ ê°œë°œ ì´ì•¼ê¸°"}},"current":{"repository":{"post":{"__typename":"GitHub_Blob","oid":"9835722865c9ef05272f6c4aecb8c287f78182ed","text":"# HTTP ì»¤ë„¥ì…˜(part 1)\n- Title : HTTP ì»¤ë„¥ì…˜(part 1)\n- Date : 2020-12-14\n- Category : Network\n\n## `http://www.github.com:80/devgaram` URLì„ ì…ë ¥ë°›ì€ ë¸Œë¼ìš°ì €ê°€ í•˜ëŠ” ì¼\n> ì „ ì„¸ê³„ HTTP í†µì‹ ì€ ì»´í“¨í„°ì™€ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ì—ì„œ ë„ë¦¬ ì“°ì´ê³  ìˆëŠ” íŒ¨í‚· êµí™˜ ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œë“¤ì˜ ê³„ì¸µí™”ëœ ì§‘í•©ì¸ TCP/IPë¥¼ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤.\n> ì„¸ê³„ ì–´ë””ì„œë“  í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ TCP/IP ì»¤ë„¥ì…˜ì„ ë§ºì„ ìˆ˜ ìˆë‹¤.\n\n1. ë¸Œë¼ìš°ì €ê°€ `www.github.com`ë¼ëŠ” í˜¸ìŠ¤íŠ¸ ëª…ì„ ì¶”ì¶œí•œë‹¤.\n2. ë¸Œë¼ìš°ì €ê°€ í˜¸ìŠ¤íŠ¸ ëª…ì— ëŒ€í•œ IP ì£¼ì†Œ, 192.30.252.153ë¥¼ ì°¾ëŠ”ë‹¤.\n3. ë¸Œë¼ìš°ì €ê°€ í¬íŠ¸ ë²ˆí˜¸, 80ì„ ì–»ëŠ”ë‹¤.\n4. ë¸Œë¼ìš°ì €ê°€ 192.30.252.153ì˜ 80í¬íŠ¸ë¡œ TCP ì»¤ë„¥ì…˜ì„ ìƒì„±í•œë‹¤.\n5. ë¸Œë¼ìš°ì €ê°€ ì„œë²„ë¡œ HTTP GET ìš”ì²­ ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ë‹¤.\n6. ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì—ì„œ ì˜¨ HTTP ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ì½ëŠ”ë‹¤.\n7. ë¸Œë¼ìš°ì €ê°€ ì»¤ë„¥ì…˜ì„ ëŠëŠ”ë‹¤.\n\n## TCP ì»¤ë„¥ì…˜\n> HTTP ì»¤ë„¥ì…˜ì€ ëª‡ëª‡ ì‚¬ìš© ê·œì¹™ì„ ì œì™¸í•˜ê³ ëŠ” TCP ì»¤ë„¥ì…˜ì— ë¶ˆê³¼í•˜ë©° TCPëŠ” HTTPì—ê²Œ ì‹ ë¢°í•  ë§Œí•œ í†µì‹  ë°©ì‹ì„ ì œê³µí•œë‹¤.\n\n- TCP ì»¤ë„¥ì…˜ì€ **<ë°œì‹ ì§€ IPì£¼ì†Œ, ë°œì‹ ì§€ í¬íŠ¸, ìˆ˜ì‹ ì§€ IP ì£¼ì†Œ, ìˆ˜ì‹ ì§€ í¬íŠ¸>** , ì´ ë„¤ê°€ì§€ ê°’ìœ¼ë¡œ ìƒì„±ë˜ë©°, ë„¤ê°€ì§€ê°€ ëª¨ë‘ ë™ì¼í•œ ì»¤ë„¥ì…˜ì€ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.\n- IP ì£¼ì†Œê°€ ì»´í“¨í„°, í¬íŠ¸ ë²ˆí˜¸ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ìƒê°í•˜ë©´ ëœë‹¤.\n\n### í”„ë¡œí† ì½œ ìŠ¤íƒ\nHTTP - ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ | TCP - ì „ì†¡ ê³„ì¸µ | IP - ë„¤íŠ¸ì›Œí¬ ê³„ì¸µ | Network Interfaces - ë°ì´í„°ë§í¬ ê³„ì¸µ\n\n**HTTP**\n\n|HTTP í”„ë¡œí† ì½œ|\n|:---:|\n|HTTP|\n|TCP|\n|IP|\n|Network Interfaces|\n\n**HTTPS**    \nHTTPì— ë³´ì•ˆ ê¸°ëŠ¥ì„ ë”í•œ ê²ƒìœ¼ë¡œ SSL ë˜ëŠ” TLSë¼ê³  ë¶ˆë¦¬ê¸°ë„ í•˜ë©° HTTPì™€ TCP ì‚¬ì´ì— ìˆëŠ” ì•”í˜¸í™” ê³„ì¸µì´ë‹¤.\n\n|HTTPS í”„ë¡œí† ì½œ|\n|---|\n|HTTP| \n|TLS ë˜ëŠ” SSL|\n|TCP|\n|IP|\n|Network Interfaces|\n\n### ì „ì†¡ ê³¼ì •\n\n1. HTTPê°€ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ê³ ì í˜„ì¬ ì—°ê²°ë˜ì–´ ìˆëŠ” TCP ì»¤ë„¥ì…˜ì„ í†µí•´ì„œ ë©”ì‹œì§€ ë°ì´í„°ì˜ ë‚´ìš©ì„ ìˆœì„œëŒ€ë¡œ ë³´ë‚¸ë‹¤.\n2. TCPëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¼ëŠ” ë‹¨ìœ„ë¡œ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì˜ê²Œ ë‚˜ëˆˆë‹¤. ê° ì„¸ê·¸ë¨¼íŠ¸ë¥¼ IP íŒ¨í‚·(í˜¹ì€ IP ë°ì´í„°ê·¸ë¨)ì— ë‹´ì•„ì„œ í•˜ë‚˜ì˜ IP ì£¼ì†Œì—ì„œ ë‹¤ë¥¸ IP ì£¼ì†Œë¡œ ì „ë‹¬í•œë‹¤.\n\n### IP íŒ¨í‚·ì— í¬í•¨ë˜ëŠ” ì •ë³´\n- IP íŒ¨í‚· í—¤ë”(20byte): ë°œì‹ ì§€ì™€ ëª©ì ì§€ì˜ IP ì£¼ì†Œ, í¬ê¸°, ê¸°íƒ€ í”Œë˜ê·¸ ê°€ì§\n- TCP ì„¸ê·¸ë¨¼íŠ¸ í—¤ë”(20byte): TCP í¬íŠ¸ ë²ˆí˜¸, TCP ì œì–´ í”Œë˜ê·¸, ë°ì´í„° ìˆœì„œì™€ ë¬´ê²°ì„±ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ìˆ«ì ê°’ ê°€ì§\n- TCP ë°ì´í„° ì¡°ê°(0í˜¹ì€ ê·¸ ì´ìƒì˜ ë°”ì´íŠ¸)\n\n## TCP ì†Œì¼“ í”„ë¡œê·¸ë˜ë°\n\nì†Œì¼“ APIë¥¼ ì‚¬ìš©í•˜ë©´ TCP ì¢…ë‹¨(endpoint) ë°ì´í„° êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³ , ì›ê²© ì„œë²„ì˜ TCP ì¢…ë‹¨ì— ê·¸ ì¢…ë‹¨ ë°ì´í„° êµ¬ì¡°ë¥¼ ì—°ê²°í•˜ì—¬ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤.\nTCP APIëŠ” ê¸°ë³¸ì ì¸ ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œì˜ í•¸ë“œì…°ì´í‚¹, ê·¸ë¦¬ê³  TCP ë°ì´í„° ìŠ¤íŠ¸ë¦¼ê³¼ IP íŒ¨í‚· ê°„ì˜ ë¶„í•  ë° ì¬ì¡°ë¦½ì— ëŒ€í•œ ëª¨ë“  ì„¸ë¶€ì‚¬í•­ì„ ì™¸ë¶€ë¡œë¶€í„° ìˆ¨ê¸´ë‹¤.\n\n### í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ TCP ì†Œì¼“ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒí˜¸ì‘ìš© í•˜ëŠ” ë°©ë²•\n\n|í´ë¼ì´ì–¸íŠ¸|ì„œë²„|\n|---|---|\n|| 1. ìƒˆë¡œìš´ ì†Œì¼“ì„ ë§Œë“ ë‹¤|\n||2. 80 í¬íŠ¸ë¡œ ì†Œì¼“ì„ ë¬¶ëŠ”ë‹¤|\n||3. ì†Œì¼“ ì»¤ë„¥ì…˜ì„ í—ˆê°€í•œë‹¤(listen)|\n||4. ì»¤ë„¥ì…˜ì„ ê¸°ë‹¤ë¦°ë‹¤(accept)|\n|1. IP ì£¼ì†Œì™€ í¬íŠ¸ë¥¼ ì–»ëŠ”ë‹¤.||\n|2. ìƒˆë¡œìš´ ì†Œì¼“ì„ ìƒì„±í•œë‹¤.||\n|3. ì„œë²„ì˜ IPí¬íŠ¸ë¡œ ì—°ê²°í•œë‹¤(connect)||\n||5. ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì»¤ë„¥ì…˜ í†µì§€|\n|4. ì„±ê³µì ìœ¼ë¡œ ì—°ê²° |6. ìš”ì²­ì„ ì½ê¸° ì‹œì‘í•œë‹¤(read)|\n|5. HTTP ìš”ì²­ì„ ë³´ë‚¸ë‹¤(write)|7. HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•œë‹¤.|\n|6. HTTP ì‘ë‹µì„ ê¸°ë‹¤ë¦°ë‹¤(read)||\n||8. HTTP ì‘ë‹µì„ ë³´ë‚¸ë‹¤(write)|\n|7. HTTP ì‘ë‹µì„ ì²˜ë¦¬í•œë‹¤||\n|8. ì»¤ë„¥ì…˜ì„ ë‹«ëŠ”ë‹¤(close)|\n||9. ì»¤ë„¥ì…˜ì„ ë‹«ëŠ”ë‹¤(close)|\n\n\nì°¸ê³  ì±… - HTTP ì™„ë²½ ê°€ì´ë“œ\n"}}},"previous":{"repository":{"post":{"__typename":"GitHub_Blob","oid":"730d28228be53db5c50f0e775778382b6d38f577","text":"# HTTP ì»¤ë„¥ì…˜(part 2, TCP ì„±ëŠ¥ì— ëŒ€í•œ ê³ ë ¤)\n\n- Title : HTTP ì»¤ë„¥ì…˜(part 2, TCP ì„±ëŠ¥ì— ëŒ€í•œ ê³ ë ¤)\n- Date : 2020-12-26\n- Category : Network\n\n> HTTPëŠ” TCP ë°”ë¡œ ìœ„ì˜ ê³„ì¸µì´ê¸° ë•Œë¬¸ì— ì¢‹ì€ ì„±ëŠ¥ì˜ HTTP ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ê¸°ë³¸ì ì¸ TCP ì„±ëŠ¥ì˜ íŠ¹ì„±ì„ ì´í•´í•´ì•¼ í•œë‹¤.\n\n## HTTP íŠ¸ëœì­ì…˜ ì§€ì—°ì˜ ì›ì¸\n\n![HTTPíŠ¸ëœì­ì…˜ ì²˜ë¦¬ë˜ëŠ” ê³¼ì •](https://raw.githubusercontent.com/devgaram/TIL/master/Network/images/2020-12-26-img/1.png)\n\nìœ„ ê·¸ë¦¼ì€ HTTP íŠ¸ëœì­ì…˜ì´ ì²˜ë¦¬ë˜ëŠ” ê³¼ì •ì„ íƒ€ì„ë¼ì¸ ë°©ì‹ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤. ê·¸ë¦¼ì„ ë³´ë©´ HTTP íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ì‹œê°„ì€ TCP ì»¤ë„¥ì…˜ì„ ì„¤ì •í•˜ê³ , ìš”ì²­ì„ ì „ì†¡í•˜ê³ , ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒì— ë¹„í•˜ë©´ ìƒë‹¹íˆ ì§§ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ë„ˆë¬´ ë§ì€ ë°ì´í„°ë¥¼ ë‚´ë ¤ë°›ê±°ë‚˜ ë³µì¡í•˜ê³  ë™ì ì¸ ìì›ë“¤ì„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ” í•œ **ëŒ€ë¶€ë¶„ì˜ HTTP ì§€ì—°ì€ TCP ë„¤íŠ¸ì›Œí¬ ì§€ì—° ë•Œë¬¸ì— ë°œìƒ**í•œë‹¤.\n\n### ì›ì¸\n\n1. DNS Lookup: í´ë¼ì´ì–¸íŠ¸ëŠ” DNS ì´ë¦„ ë¶„ì„ ì¸í”„ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ URIì—ì„œ ì›¹ ì„œë²„ì˜ IP ì£¼ì†Œì™€ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì•Œì•„ë‚´ì•¼ í•œë‹¤.\n2. Connect: í´ë¼ì´ì–¸íŠ¸ëŠ” TCP ì»¤ë„¥ì…˜ ìš”ì²­ì„ ì„œë²„ì—ê²Œ ë³´ë‚´ê³  ì„œë²„ê°€ ì»¤ë„¥ì…˜ í—ˆê°€ ì‘ë‹µì„ íšŒì‹ í•˜ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤. ìˆ˜ë°± ê°œì˜ HTTP íŠ¸ëœì­ì…˜ì´ ë§Œë“¤ì–´ì§€ë©´ ì†Œìš” ì‹œê°„ì€ í¬ê²Œ ì¦ê°€í•œë‹¤.\n3. Request: ì»¤ë„¥ì…˜ì´ ë§ºì–´ì§€ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” HTTP ìš”ì²­ì„ ìƒˆë¡œ ìƒì„±ëœ TCP íŒŒì´í”„ë¥¼ í†µí•´ ì „ì†¡í•œë‹¤.\n4. Process: ì›¹ ì„œë²„ëŠ” ë°ì´í„° ë„ì°©í•˜ëŠ” ëŒ€ë¡œ TCP ì»¤ë„¥ì…˜ì—ì„œ ìš”ì²­ ë©”ì‹œì§€ë¥¼ ì½ê³  ì²˜ë¦¬í•œë‹¤.\n5. Response: ì›¹ ì„œë²„ê°€ HTTP ì‘ë‹µì„ ë³´ë‚¸ë‹¤.\n\n## HTTP ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ëŠ” TCP ì§€ì—°ì˜ ì›ì¸\n\n### TCP ì»¤ë„¥ì…˜ í•¸ë“œì…°ì´í¬ ì§€ì—°\n\n![TCP ì»¤ë„¥ì…˜ í•¸ë“œì…°ì´í¬](https://raw.githubusercontent.com/devgaram/TIL/master/Network/images/2020-12-26-img/2.png)\n\nâœ”ï¸  **TCP ì»¤ë„¥ì…˜ì´ í•¸ë“œì…°ì´í¬ í•˜ëŠ” ìˆœì„œ**\n\n1. í´ë¼ì´ì–¸íŠ¸ëŠ” **SYN** í”Œë˜ê·¸ë¥¼ ê°€ì§„ TCP íŒ¨í‚·ì„ ì„œë²„ì—ê²Œ ë³´ë‚¸ë‹¤. 40~60ë°”ì´íŠ¸ë¡œ ì‘ì€ í¬ê¸°ì˜ íŒ¨í‚·ì´ë‹¤. \n2. ì„œë²„ëŠ” ì»¤ë„¥ì…˜ ìš”ì²­ì„ ë°›ì•„ë“¤ì˜€ë‹¤ëŠ” ì˜ë¯¸ë¡œ **SYN + ACK** í”Œë˜ê·¸ë¥¼ ê°€ì§„ TCP íŒ¨í‚·ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ë‚¸ë‹¤.\n3. í´ë¼ì´ì–¸íŠ¸ëŠ” ì»¤ë„¥ì…˜ì´ ì˜ ë§ºì–´ì¡Œë‹¤ëŠ” ê²ƒì„ ì•Œë¦¬ê¸° ìœ„í•´ ì„œë²„ì—ê²Œ **ACK ì™€ HTTP ìš”ì²­ ë©”ì‹œì§€**ë¥¼ ë³´ë‚¸ë‹¤.\n\nâœ”ï¸  **ê²°ë¡ **\n\nì‘ì€ í¬ê¸°ì˜ HTTP íŠ¸ëœì­ì…˜ì€ SYN, SYN+ACK í•¸ë“œì…°ì´í¬ë¡œ ì¸í•´ 50%ì˜ ì‹œê°„ì„ TCP êµ¬ì„±ì— ì¨ë²„ë¦°ë‹¤. ë˜í•œ ACK íŒ¨í‚·ì€ HTTP ìš”ì²­ ë©”ì‹œì§€ ì „ì²´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆì„ ë§Œí¼ í¬ê³  HTTP ì„œë²„ ì‘ë‹µ ë©”ì‹œì§€ëŠ” í•˜ë‚˜ì˜ IP íŒ¨í‚·ì—ë„ ë‹´ê¸¸ ìˆ˜ ìˆë‹¤.\n\n### í™•ì¸ ì‘ë‹µ(ACK) ì§€ì—°\n\nâœ”ï¸  **TCPëŠ” ì–´ë–»ê²Œ ì‹ ë¢°ì„± ìˆëŠ” í†µì‹ ì„ í• ê¹Œ?**\n\nTCP ì„¸ê·¸ë¨¼íŠ¸ëŠ” ìˆœë²ˆê³¼ ë°ì´í„° ë¬´ê²°ì„± ì²´í¬ì„¬ì„ ê°€ì§„ë‹¤. ìˆ˜ì‹ ìëŠ” ì„¸ê·¸ë¨¼íŠ¸ê°€ ì˜¨ì „í•˜ë‹¤ê³  íŒë‹¨ë˜ë©´ ACK íŒ¨í‚·ì„ ì†¡ì‹ ìì—ê²Œ ë°˜í™˜í•œë‹¤. ì†¡ì‹ ìëŠ” íŠ¹ì • ì‹œê°„ ì•ˆì— ACK íŒ¨í‚·ì„ ë°›ì§€ ëª»í•˜ë©´ íŒ¨í‚·ì´ íŒŒê´´ë˜ì—ˆê±°ë‚˜ ì˜¤ë¥˜ê°€ ìˆëŠ” ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ê³  ë°ì´í„°ë¥¼ ë‹¤ì‹œ ì „ì†¡í•œë‹¤.\n\nâœ”ï¸  **í™•ì¸ ì‘ë‹µ ì•Œê³ ë¦¬ì¦˜ì´ë€?**\n\në„¤íŠ¸ì›Œí¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ TCPëŠ” í¬ê¸°ê°€ ì‘ì€ í™•ì¸ ì‘ë‹µì„ ê°™ì€ ë°©í–¥ìœ¼ë¡œ ì†¡ì¶œë˜ëŠ” **ë°ì´í„° íŒ¨í‚·ì— í¸ìŠ¹(piggyback)** ì‹œí‚¨ë‹¤. í”¼ê¸°ë°± ê²½ìš°ë¥¼ ëŠ˜ë¦¬ê¸° ìœ„í•´ í™•ì¸ ì‘ë‹µ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤. ì•Œê³ ë¦¬ì¦˜ì€ ì†¡ì¶œí•  í™•ì¸ ì‘ë‹µì„ íŠ¹ì • ì‹œê°„ ë™ì•ˆ ë²„í¼ì— ì €ì¥í•´ë‘ê³  í¸ìŠ¹ì‹œí‚¬ ë°ì´í„° íŒ¨í‚·ì„ ì°¾ëŠ”ë‹¤. ì¼ì • ì‹œê°„ì•ˆì— ë°ì´í„° íŒ¨í‚·ì„ ì°¾ì§€ ëª»í•˜ë©´ í™•ì¸ ì‘ë‹µì„ ë³„ë„ íŒ¨í‚·ì„ ë§Œë“¤ì–´ ì „ì†¡í•œë‹¤. ì´ ë•Œ ë°œìƒë˜ëŠ” ì§€ì—°ì´ í™•ì¸ ì‘ë‹µ ì§€ì—°ì´ë‹¤.\n\nâœ”ï¸  **ê²°ë¡ **\n\nìš”ì²­ê³¼ ì‘ë‹µ ë‘ ê°€ì§€ í˜•ì‹ìœ¼ë¡œë§Œ ì´ë£¨ì–´ì§€ëŠ” HTTP ë™ì‘ ë°©ì‹ì€ í™•ì¸ ì‘ë‹µì´ ì†¡ì¶œ ë°ì´í„° íŒ¨í‚·ì— í¸ìŠ¹í•  ê¸°íšŒë¥¼ ê°ì†Œì‹œí‚¨ë‹¤. ë§‰ìƒ í¸ìŠ¹í•  íŒ¨í‚·ì„ ì°¾ìœ¼ë ¤ê³  í•˜ë©´ í•´ë‹¹ ë°©í–¥ìœ¼ë¡œ ì†¡ì¶œë  íŒ¨í‚·ì´ ë§ì§€ ì•Šê¸° ë•Œë¬¸ì— í™•ì¸ì‘ë‹µ ì§€ì—° ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¸í•œ ì§€ì—°ì´ ìì£¼ ë°œìƒí•œë‹¤.\n\n### TCP ëŠë¦° ì‹œì‘\n\nTCP ëŠë¦° ì‹œì‘ì€ TCPê°€ í•œ ë²ˆì— ì „ì†¡í•  ìˆ˜ ìˆëŠ” íŒ¨í‚·ì˜ ìˆ˜ë¥¼ ì œí•œí•œë‹¤. íŒ¨í‚·ì´ ì„±ê³µì ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ê° ì‹œì ì— ì†¡ì‹ ìëŠ” ì¶”ê°€ë¡œ 2ê°œì˜ íŒ¨í‚·ì„ ë” ì „ì†¡í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ì–»ëŠ”ë‹¤. ê¸‰ì‘ìŠ¤ëŸ° ë¶€í•˜ì™€ í˜¼ì¡ì„ ë°©ì§€í•˜ëŠ” ë° ì“°ì´ëŠ” ì´ í˜¼ì¡ ì œì–´ ê¸°ëŠ¥ ë•Œë¬¸ì— ìƒˆë¡œìš´ ì»¤ë„¥ì…˜ë³´ë‹¤ ì´ë¯¸ ì–´ëŠ ì •ë„ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì€ íŠœë‹ëœ ì»¤ë„¥ì…˜ì´ ë” ë¹ ë¥´ë‹¤. HTTP ì§€ì† ì»¤ë„¥ì…˜ê³¼ ê´€ë ¨ ìˆë‹¤.\n\n### ë„¤ì´ê¸€(Nagle) ì•Œê³ ë¦¬ì¦˜ê³¼ TCP_NODELAY\n\n> ì‹¤ë¦¬ ìœˆë„ ì¦í›„êµ° ì „ì†¡ìëŠ” 1ë°”ì´íŠ¸ í¬ê¸°ì˜ íŒ¨í‚·ì„ ëŒ€ëŸ‰ìœ¼ë¡œ ì „ì†¡í•˜ëŠ” ê²ƒìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥ì„ í¬ê²Œ ë–¨ì–´ëœ¨ë¦°ë‹¤. ë„¤ì´ê¸€ ì•Œê³ ë¦¬ì¦˜ì€ ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë“±ì¥í–ˆë‹¤.\n\në„¤ì´ê¸€ ì•Œê³ ë¦¬ì¦˜ì€ ë„¤íŠ¸ì›Œí¬ íš¨ìœ¨ì„ ìœ„í•´ **íŒ¨í‚·ì„ ì „ì†¡í•˜ê¸° ì „ì— ë§ì€ ì–‘ì˜ TCP ë°ì´í„°ë¥¼ í•œ ê°œì˜ ë©ì–´ë¦¬ë¡œ** í•©ì¹œë‹¤. ì„¸ê·¸ë¨¼íŠ¸ê°€ ìµœëŒ€ í¬ê¸°(ëœìƒ 1,500ë°”ì´íŠ¸, ì¸í„°ë„·ìƒ ìˆ˜ë°± ë°”ì´íŠ¸)ê°€ ë˜ì§€ ì•Šìœ¼ë©´ ì „ì†¡ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¤ë§Œ ë‹¤ë¥¸ **ëª¨ë“  íŒ¨í‚·ì´ í™•ì¸ ì‘ë‹µì„ ë°›ì•˜ì„ ê²½ìš°ì—ëŠ” ìµœëŒ€ í¬ê¸°ë³´ë‹¤ ì‘ì€ íŒ¨í‚·ì˜ ì „ì†¡ì„ í—ˆë½**í•œë‹¤. ë‹¤ë¥¸ íŒ¨í‚·ë“¤ì´ ì•„ì§ ì „ì†¡ ì¤‘ì´ë©´ ë°ì´í„°ëŠ” ë²„í¼ì— ì €ì¥ëœë‹¤. \n\nâœ”ï¸  **ë„¤ì´ê¸€ ì•Œê³ ë¦¬ì¦˜ì€ HTTP ì„±ëŠ¥ì„ ì–´ë–»ê²Œ ì§€ì—°ì‹œí‚¤ë‚˜?**\n\n- í¬ê¸°ê°€ ì‘ì€ HTTP ë©”ì‹œì§€ëŠ” ì„¸ê·¸ë¨¼íŠ¸ì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì±„ìš°ì§€ ëª»í•´ ê³„ì†í•´ì„œ ì§€ì—°ëœë‹¤.\n- í™•ì¸ ì‘ë‹µ ì•Œê³ ë¦¬ì¦˜ê³¼ í•¨ê»˜ ì“°ë©´ ì§€ì—°ì´ ë” ì‹¬í•´ì§„ë‹¤. í™•ì¸ ì‘ë‹µ ì•Œê³ ë¦¬ì¦˜ì€ í™•ì¸ ì‘ë‹µì„ 100~200 ë°€ë¦¬ì´ˆ ì§€ì—°ì‹œí‚¤ê²Œ ë˜ê³  ë„¤ì´ê¸€ ì•Œê³ ë¦¬ì¦˜ì€ í™•ì¸ ì‘ë‹µì´ ë„ì°©í•  ë•Œê¹Œì§€ ë°ì´í„° ì „ì†¡ì„ ë©ˆì¶”ê¸° ë•Œë¬¸ì´ë‹¤.\n\nâœ”ï¸  **í•´ê²°**\n\nHTTP ìŠ¤íƒì— TCP_NODELAY íŒŒë¼ë¯¸í„° ê°’ì„ ì„¤ì •í•˜ì—¬ ë„¤ì´ê¸€ ì•Œê³ ë¦¬ì¦˜ì„ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤. ë‹¨, ì‘ì€ í¬ê¸°ì˜ íŒ¨í‚·ì´ ë„ˆë¬´ ë§ì´ ìƒê¸°ì§€ ì•Šë„ë¡ í° í¬ê¸°ì˜ ë°ì´í„° ë©ì–´ë¦¬ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\n\n### TIME_WAITì˜ ëˆ„ì ê³¼ í¬íŠ¸ ê³ ê°ˆ\n\nì„±ëŠ¥ ì¸¡ì • ì‹œì— ì‹¬ê°í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ ë°œìƒì‹œí‚¤ë‚˜, ì‹¤ì œ ìƒí™©ì—ì„œëŠ” ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.\n\nì°¸ê³  ì±… - HTTP ì™„ë²½ ê°€ì´ë“œ"}}},"next":{"repository":{"post":{"__typename":"GitHub_Blob","oid":"d91ddb038b5151998966588eea19cf150c69cd32","text":"# í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ refë¥¼ ì‚¬ìš©í•˜ë ¤ë©´?\n\n- Title : í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ refë¥¼ ì‚¬ìš©í•˜ë ¤ë©´?\n- Date : 2020-09-02\n- Category: React\n\n# Key Point ğŸ’¥\n\në¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ `useRef` í›…ìœ¼ë¡œ ìƒì„±í•œ refë¥¼ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ê³  ì‹¶ë‹¤ë©´? **forwardRef**ë¥¼ ì‚¬ìš©í•˜ì!\ní•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì— ref ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n\ní•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì— refë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´!\n\n- [forwardRef](https://ko.reactjs.org/docs/forwarding-refs.html) ë˜ëŠ” forwardRef + [useImperativeHandle](https://ko.reactjs.org/docs/hooks-reference.html#useimperativehandle) ë¥¼ ì‚¬ìš©\n- í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€ê²½\n\në‹¨, DOM ì—˜ë¦¬ë¨¼íŠ¸ë‚˜ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´Â `ref`Â ****ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n\n# ì‚½ì§ˆê¸° â›ï¸\n\ní˜„ì¬ì˜ Copy ì»´í¬ë„ŒíŠ¸ì—ì„œ Overlayì˜ target ì†ì„±ì´ Copy ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ useRefë¡œ ìƒì„±í•œ ref ê°’ì„ ì „ë‹¬í•œë‹¤. ë‚´ê°€ êµ¬í˜„í•˜ê³  ì‹¶ì—ˆë˜ ê±´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ refë¥¼ ë°›ì•„ì„œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ íŠ¹ì • DOM ìœ„ì— overlayë¥¼ ë³´ì—¬ì£¼ëŠ” ê±°ë‹¤. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ useRefë¡œ ë§Œë“  ê°’ì„ propsë¡œ ì „ë‹¬í–ˆì§€ë§Œ Copy ìì²´ê°€ ë™ì‘í•˜ì§€ ì•Šì•˜ë‹¤. íœ´ ê³„ì† ì‚½ì§ˆì„ í–ˆì§€ë§Œ ë‹µì€ ê³µì‹ ë¬¸ì„œì— ìˆì—ˆë‹¤. ë¬¸ì„œë¥¼ ì—´ì‹¬íˆ ì½ì!! ğŸ˜†\n\nìˆ˜ì • ì „ Copy.jsx\n\n```jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Overlay, Tooltip } from 'react-bootstrap';\n\nconst Copy = ({ children, text, placement, copiedMsg }) => {\n  const [isShowCopied, setIsShowCopied] = useState(false);\n  const target = useRef(null);\n\n  useEffect(() => {\n    if (!isShowCopied) return;\n\n    setTimeout(() => {\n      setIsShowCopied(false);\n    }, 2000);\n  }, [isShowCopied]);\n\n  return (\n    <>\n      <CopyToClipboard\n        text={text}\n        onCopy={() => {\n          setIsShowCopied(true);\n        }}\n      >\n        {React.cloneElement(children, { ref: target })}\n      </CopyToClipboard>\n      <Overlay target={target.current} show={isShowCopied} placement={placement}>\n        <Tooltip>{copiedMsg}</Tooltip>\n      </Overlay>\n    </>\n  );\n};\n\nexport default Copy;\n```\n\nìˆ˜ì • í›„ Copy.jsx\n\n```jsx\nimport React, { useState, useEffect, useRef, forwardRef } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Overlay, Tooltip } from 'react-bootstrap';\n\nconst Copy = forwardRef(({ children, text, placement, copiedMsg }, ref) => {\n  const [isShowCopied, setIsShowCopied] = useState(false);\n  const target = useRef(null);\n\n  useEffect(() => {\n    if (!isShowCopied) return;\n\n    setTimeout(() => {\n      setIsShowCopied(false);\n    }, 2000);\n  }, [isShowCopied]);\n\n  return (\n    <>\n      <CopyToClipboard\n        text={text}\n        onCopy={() => {\n          setIsShowCopied(true);\n        }}\n      >\n        {React.cloneElement(children, { ref: target })}\n      </CopyToClipboard>\n      <Overlay target={(ref && ref.current) || target.current} show={isShowCopied} placement={placement}>\n        <Tooltip>{copiedMsg}</Tooltip>\n      </Overlay>\n    </>\n  );\n});\n\nexport default Copy;\n```"}}}},"pageContext":{"id":"9835722865c9ef05272f6c4aecb8c287f78182ed","previousPostId":"730d28228be53db5c50f0e775778382b6d38f577","nextPostId":"d91ddb038b5151998966588eea19cf150c69cd32"}},"staticQueryHashes":["2685952063","2841359383"]}